<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8"/>
    <title>Carnê de Pagamento - Dental Clinic</title>
    <style>
        /* Configurações da página */
        @page {
            size: A4;
            margin: 5mm;
        }
        
        /* Estilos gerais */
        body {
            font-family: Arial, sans-serif;
            font-size: 9pt;
            margin: 0;
            padding: 0;
            line-height: 1.3;
        }
        
        /* Layout da página */
        .page {
            width: 210mm;
            min-height: 297mm;
            padding: 5mm;
            box-sizing: border-box;
            page-break-after: always;
        }
        
        /* Container do boleto */
        .boleto-container {
            width: 100%;
            height: 70mm;
            margin-bottom: 5mm;
            border: 1px dashed #999;
            box-sizing: border-box;
        }
        
        /* Tabelas */
        table {
            border-collapse: collapse;
            width: 100%;
            height: 100%;
        }
        
        td {
            border: 1px solid #000;
            padding: 3px;
            vertical-align: top;
        }
        
        /* Classes de colunas */
        .col-esquerda {
            width: 20%;
        }
        
        .col-central {
            width: 60%;
        }
        
        .col-direita {
            width: 20%;
        }
        
        /* Estilos de texto */
        .label {
            font-weight: bold;
            font-size: 9pt;
            display: block;
        }
        
        .value {
            font-size: 9pt;
        }
        
        p {
            margin: 4px 0;
        }
        
        /* Linha de corte */
        .linha-corte {
            border-top: 1px dashed #000;
            margin: 2mm 0;
        }
    </style>
</head>
<body>

{% for parcela in parcelas %}
    <div class="page">
        <div class="boleto-container">
            <table>
                <tr>
                    <!-- Coluna Esquerda - Dados Financeiros -->
                    <td class="col-esquerda">
                        <p>
                            <span class="label">CONTRATO:</span>
                            <span class="value">{{ contrato.id }}</span>
                        </p>
                        <p>
                            <span class="label">PARCELA:</span>
                            <span class="value">{{ parcela.numero }}/{{ parcela.total }}</span>
                        </p>
                        <p>
                            <span class="label">VENCIMENTO:</span>
                            <span class="value">{{ parcela.data_vencimento|date:"d/m/Y" }}</span>
                        </p>
                        <p>
                            <span class="label">VALOR:</span>
                            <span class="value">R$ {{ parcela.valor|floatformat:2 }}</span>
                        </p>
                        <p>
                            <span class="label">(-) DESCONTOS:</span>
                            <span class="value">R$ 0,00</span>
                        </p>
                        <p>
                            <span class="label">(+) MULTA/MORA:</span>
                            <span class="value">R$ 0,00</span>
                        </p>
                        <p>
                            <span class="label">(=) TOTAL:</span>
                            <span class="value">R$ {{ parcela.valor|floatformat:2 }}</span>
                        </p>
                    </td>

                    <!-- Coluna Central - Informações -->
                    <td class="col-central">
                        <p>
                            <span class="label">LOCAL DE PAGAMENTO:</span>
                            <span class="value">PAGÁVEL NA DENTAL CLINIC ATÉ O VENCIMENTO</span>
                        </p>
                        <p>
                            <span class="label">CEDENTE:</span>
                            <span class="value">DENTAL CLINIC</span>
                        </p>
                        <p>
                            <span class="label">INSTRUÇÕES:</span>
                            <span class="value">
                                1. Não receber após o vencimento<br/>
                                2. Multa de 2% após vencimento<br/>
                                3. Mora de R$ 0,33/dia após vencimento
                            </span>
                        </p>
                        <p>
                            <span class="label">SACADO:</span>
                            <span class="value">
                                {{ paciente.nome|upper }}<br/>
                                CPF: {{ paciente.cpf }}<br/>
                                Endereço: {{ paciente.endereco|upper }}
                            </span>
                        </p>
                    </td>

                    <!-- Coluna Direita - Cópia dos Dados -->
                    <td class="col-direita">
                        <p>
                            <span class="label">CONTRATO:</span>
                            <span class="value">{{ contrato.id }}</span>
                        </p>
                        <p>
                            <span class="label">PARCELA:</span>
                            <span class="value">{{ parcela.numero }}/{{ parcela.total }}</span>
                        </p>
                        <p>
                            <span class="label">VENCIMENTO:</span>
                            <span class="value">{{ parcela.data_vencimento|date:"d/m/Y" }}</span>
                        </p>
                        <p>
                            <span class="label">VALOR:</span>
                            <span class="value">R$ {{ parcela.valor|floatformat:2 }}</span>
                        </p>
                        <p>
                            <span class="label">(-) DESCONTOS:</span>
                            <span class="value">R$ 0,00</span>
                        </p>
                        <p>
                            <span class="label">(+) MULTA/MORA:</span>
                            <span class="value">R$ 0,00</span>
                        </p>
                        <p>
                            <span class="label">(=) TOTAL:</span>
                            <span class="value">R$ {{ parcela.valor|floatformat:2 }}</span>
                        </p>
                    </td>
                </tr>
            </table>
        </div>
        
        <!-- Adicione mais boletos por página aqui se necessário -->
        <table>
                <tr>
                    <!-- Coluna Esquerda - Dados Financeiros -->
                    <td class="col-esquerda">
                        <p>
                            <span class="label">CONTRATO:</span>
                            <span class="value">{{ contrato.id }}</span>
                        </p>
                        <p>
                            <span class="label">PARCELA:</span>
                            <span class="value">{{ parcela.numero }}/{{ parcela.total }}</span>
                        </p>
                        <p>
                            <span class="label">VENCIMENTO:</span>
                            <span class="value">{{ parcela.data_vencimento|date:"d/m/Y" }}</span>
                        </p>
                        <p>
                            <span class="label">VALOR:</span>
                            <span class="value">R$ {{ parcela.valor|floatformat:2 }}</span>
                        </p>
                        <p>
                            <span class="label">(-) DESCONTOS:</span>
                            <span class="value">R$ 0,00</span>
                        </p>
                        <p>
                            <span class="label">(+) MULTA/MORA:</span>
                            <span class="value">R$ 0,00</span>
                        </p>
                        <p>
                            <span class="label">(=) TOTAL:</span>
                            <span class="value">R$ {{ parcela.valor|floatformat:2 }}</span>
                        </p>
                    </td>

                    <!-- Coluna Central - Informações -->
                    <td class="col-central">
                        <p>
                            <span class="label">LOCAL DE PAGAMENTO:</span>
                            <span class="value">PAGÁVEL NA DENTAL CLINIC ATÉ O VENCIMENTO</span>
                        </p>
                        <p>
                            <span class="label">CEDENTE:</span>
                            <span class="value">DENTAL CLINIC</span>
                        </p>
                        <p>
                            <span class="label">INSTRUÇÕES:</span>
                            <span class="value">
                                1. Não receber após o vencimento<br/>
                                2. Multa de 2% após vencimento<br/>
                                3. Mora de R$ 0,33/dia após vencimento
                            </span>
                        </p>
                        <p>
                            <span class="label">SACADO:</span>
                            <span class="value">
                                {{ paciente.nome|upper }}<br/>
                                CPF: {{ paciente.cpf }}<br/>
                                Endereço: {{ paciente.endereco|upper }}
                            </span>
                        </p>
                    </td>

                    <!-- Coluna Direita - Cópia dos Dados -->
                    <td class="col-direita">
                        <p>
                            <span class="label">CONTRATO:</span>
                            <span class="value">{{ contrato.id }}</span>
                        </p>
                        <p>
                            <span class="label">PARCELA:</span>
                            <span class="value">{{ parcela.numero }}/{{ parcela.total }}</span>
                        </p>
                        <p>
                            <span class="label">VENCIMENTO:</span>
                            <span class="value">{{ parcela.data_vencimento|date:"d/m/Y" }}</span>
                        </p>
                        <p>
                            <span class="label">VALOR:</span>
                            <span class="value">R$ {{ parcela.valor|floatformat:2 }}</span>
                        </p>
                        <p>
                            <span class="label">(-) DESCONTOS:</span>
                            <span class="value">R$ 0,00</span>
                        </p>
                        <p>
                            <span class="label">(+) MULTA/MORA:</span>
                            <span class="value">R$ 0,00</span>
                        </p>
                        <p>
                            <span class="label">(=) TOTAL:</span>
                            <span class="value">R$ {{ parcela.valor|floatformat:2 }}</span>
                        </p>
                    </td>
                </tr>
            </table>
        
    </div>
{% endfor %}

</body>
</html>